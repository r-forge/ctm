<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Software</title>

    <link rel="stylesheet" type="text/css" href="http://ctm.r-forge.r-project.org//assets/css/styles_feeling_responsive.css">

  

	<script src="http://ctm.r-forge.r-project.org//assets/js/modernizr.min.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
	<script>
		WebFont.load({
			google: {
				families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ]
			}
		});
	</script>

	<noscript>
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic%7CVolkhov' rel='stylesheet' type='text/css'>
	</noscript>


	<!-- Search Engine Optimization -->
	<meta name="description" content="">
	<meta name="google-site-verification" content="">
	
	
	<link rel="author" href="">
	
	
	<link rel="canonical" href="http://ctm.r-forge.r-project.org//software/">


	<!-- Facebook Open Graph -->
	<meta property="og:title" content="Software">
	<meta property="og:description" content="">
	<meta property="og:url" content="http://ctm.r-forge.r-project.org//software/">
	<meta property="og:locale" content="en_EN">
	<meta property="og:type" content="website">
	<meta property="og:site_name" content="Transformation Models">
	
	


	

	<link type="text/plain" rel="author" href="http://ctm.r-forge.r-project.org//humans.txt">

	

	


	

</head>
<body id="top-of-page" class="post">
	
	
<div id="navigation" class="sticky">
  <nav class="top-bar" role="navigation" data-topbar>
    <ul class="title-area">
      <li class="name">
      <h1 class="show-for-small-only"><a href="http://ctm.r-forge.r-project.org/" class="icon-tree"> Transformation Models</a></h1>
    </li>
       <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
      <li class="toggle-topbar menu-icon"><a href="#"><span>Nav</span></a></li>
    </ul>
    <section class="top-bar-section">

      <ul class="right">
        

              

          
          
        

              

          
          
        

              

          
          
        

              

          
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a  href="http://ctm.r-forge.r-project.org//people/">People</a></li>

            
            
          
        
        
      </ul>

      <ul class="left">
        

              

          
          

            
            
              <li><a  href="http://ctm.r-forge.r-project.org//">Start</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            
              <li><a  href="http://ctm.r-forge.r-project.org//research/">Research</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            
              <li class="active"><a  href="http://ctm.r-forge.r-project.org//software/">Software</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            
              <li><a  href="http://ctm.r-forge.r-project.org//blog/">News</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          
        
        
      </ul>
    </section>
  </nav>
</div><!-- /#navigation -->

	

	

<div id="masthead-no-image-header">
	<div class="row">
		<div class="small-12 columns">
			<a id="logo" href="http://ctm.r-forge.r-project.org/" title="Transformation Models – ">
				<img src="http://ctm.r-forge.r-project.org//assets/img/logo.png" alt="Transformation Models – ">
			</a>
		</div><!-- /.small-12.columns -->
	</div><!-- /.row -->
</div><!-- /#masthead -->








	<div class="row t30">
	<div class="medium-8 columns medium-offset-2 end">
		<article itemscope itemtype="http://schema.org/Article">
			<header>
				

				<div itemprop="name">
					<p class="subheadline"></p>
					<h1>Software</h1>
				</div>
			</header>


			
			<p class="teaser" itemprop="description">
				
			</p>
			

			<div itemprop="articleSection">
			<h1 id="a-simple-transformation-model">A Simple Transformation Model</h1>

<p>First, install and fire-up R on your computer. Within R, one needs to
install the tram package by typing</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">install.packages</span><span class="p">(</span><span class="s2">"tram"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>and hitting the ENTER key. Once the package is installed, you can
load it using</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="s2">"tram"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Loading required package: mlt
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Loading required package: basefun
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Loading required package: variables
</code></pre></div></div>

<p>Now all tram functions are ready to be used, for example the Colr()
function for fitting a series of potentially stratified logistic regression
models to a continuous outcome variable:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">(</span><span class="s2">"BostonHousing2"</span><span class="p">,</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"mlbench"</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="s2">"survival"</span><span class="p">)</span><span class="w">
</span><span class="n">BostonHousing2</span><span class="o">$</span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">with</span><span class="p">(</span><span class="n">BostonHousing2</span><span class="p">,</span><span class="w"> </span><span class="n">Surv</span><span class="p">(</span><span class="n">cmedv</span><span class="p">,</span><span class="w"> </span><span class="n">cmedv</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">50</span><span class="p">))</span><span class="w">
</span><span class="n">Colr_BH_1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Colr</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">chas</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">crim</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">zn</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">indus</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">nox</span><span class="w"> </span><span class="o">+</span><span class="w"> 
                  </span><span class="n">rm</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dis</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rad</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">tax</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">ptratio</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">lstat</span><span class="p">,</span><span class="w"> 
                  </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BostonHousing2</span><span class="p">)</span><span class="w">
</span><span class="n">summary</span><span class="p">(</span><span class="n">Colr_BH_1</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## 
##   Continuous Outcome Logistic Regression 
## 
## Call:
## Colr(formula = y | 0 + chas ~ crim + zn + indus + nox + rm + 
##     age + dis + rad + tax + ptratio + b + lstat, data = BostonHousing2)
## 
## Coefficients:
##          Estimate Std. Error z value Pr(&gt;|z|)    
## crim     0.081681   0.013780   5.928 3.07e-09 ***
## zn      -0.010334   0.004901  -2.109   0.0350 *  
## indus   -0.026959   0.021440  -1.257   0.2086    
## nox      6.993759   1.486444   4.705 2.54e-06 ***
## rm      -1.564653   0.221462  -7.065 1.61e-12 ***
## age      0.010271   0.005138   1.999   0.0456 *  
## dis      0.506364   0.078110   6.483 9.01e-11 ***
## rad     -0.124231   0.024848  -5.000 5.74e-07 ***
## tax      0.006643   0.001335   4.978 6.43e-07 ***
## ptratio  0.401473   0.048357   8.302  &lt; 2e-16 ***
## b       -0.006171   0.001106  -5.580 2.41e-08 ***
## lstat    0.279999   0.026532  10.553  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Log-Likelihood:
##  -1292.479 (df = 26)
## Likelihood-ratio Test: Chisq = 880.7501 on 12 degrees of freedom; p = &lt; 2.2e-16
</code></pre></div></div>
<p>The model can be used to extract the corresponding 
conditional distribution functions</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nd</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">BostonHousing2</span><span class="p">[</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">),]</span><span class="w">
</span><span class="n">nd</span><span class="o">$</span><span class="n">chas</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sort</span><span class="p">(</span><span class="n">unique</span><span class="p">(</span><span class="n">BostonHousing2</span><span class="o">$</span><span class="n">chas</span><span class="p">))</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="s2">"colorspace"</span><span class="p">)</span><span class="w">
</span><span class="n">col</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">diverge_hcl</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">246</span><span class="p">,</span><span class="w"> </span><span class="m">40</span><span class="p">),</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">96</span><span class="p">,</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">65</span><span class="p">,</span><span class="w"> </span><span class="m">90</span><span class="p">))</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">as.mlt</span><span class="p">(</span><span class="n">Colr_BH_1</span><span class="p">),</span><span class="w"> </span><span class="n">newdata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nd</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"distribution"</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">col</span><span class="p">)</span><span class="w">
</span><span class="n">legend</span><span class="p">(</span><span class="s2">"bottomright"</span><span class="p">,</span><span class="w"> </span><span class="n">legend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">levels</span><span class="p">(</span><span class="n">nd</span><span class="o">$</span><span class="n">chas</span><span class="p">),</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">col</span><span class="p">,</span><span class="w"> </span><span class="n">lty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">bty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"n"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><img src="../assets/img/unnamed-chunk-4-1.png" alt="plot of chunk unnamed-chunk-4" /></p>

			</div>

			

			
		</article>
	</div><!-- /.medium-8.columns -->


	


	
</div><!-- /.row -->


	
	    <div id="up-to-top" class="row">
      <div class="small-12 columns" style="text-align: right;">
        <a class="iconfont" href="#top-of-page">&#xf108;</a>
      </div><!-- /.small-12.columns -->
    </div><!-- /.row -->


    <footer id="footer-content" class="bg-grau">
      <div id="footer">
        <div class="row">
          <div class="medium-6 large-5 columns">
            <h5 class="shadow-black">About This Site</h5>

            <p class="shadow-black">
              Research and Software for Transformation Models
              <a href="http://ctm.r-forge.r-project.org//info/">More ›</a>
            </p>
          </div><!-- /.large-6.columns -->


          <div class="small-6 medium-3 large-3 large-offset-1 columns">
            
              
                <h5 class="shadow-black">Services</h5>
              
            
              
            

              <ul class="no-bullet shadow-black">
              
                
                  <li >
                    <a href="http://ctm.r-forge.r-project.org/"  title=""></a>
                  </li>
              
                
                  <li >
                    <a href="http://ctm.r-forge.r-project.org//contact/"  title="Contact">Contact</a>
                  </li>
              
              </ul>
          </div><!-- /.large-4.columns -->


          <div class="small-6 medium-3 large-3 columns">
            
              
                <h5 class="shadow-black">Network</h5>
              
            
              
            

            <ul class="no-bullet shadow-black">
            
              
                <li >
                  <a href="http://ctm.r-forge.r-project.org/"  title=""></a>
                </li>
            
              
                <li class="" >
                  <a href="https://www.uzh.ch/en.html" target="_blank"  title="">University of Zurich</a>
                </li>
            
            </ul>
          </div><!-- /.large-3.columns -->
        </div><!-- /.row -->

      </div><!-- /#footer -->


      <div id="subfooter">
        <nav class="row">
          <section id="subfooter-left" class="small-12 medium-6 columns credits">
            
          </section>

          <section id="subfooter-right" class="small-12 medium-6 columns">
            <ul class="inline-list social-icons">
            
            </ul>
          </section>
        </nav>
      </div><!-- /#subfooter -->
    </footer>

	

	


<script src="http://ctm.r-forge.r-project.org//assets/js/javascript.min.js"></script>














</body>
</html>

