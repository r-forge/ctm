
R version 3.1.2 (2014-10-31) -- "Pumpkin Helmet"
Copyright (C) 2014 The R Foundation for Statistical Computing
Platform: x86_64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> 
> library("mlt")
Loading required package: basefun
Loading required package: Matrix
Loading required package: polynom
Loading required package: numDeriv
> library("survival")
> set.seed(29)
> 
> y <- rexp(10)
> d <- rep(c(TRUE, FALSE), length = length(y))
> ### right
> (s <- Surv(y, d, type = "right"))
 [1] 2.67433818  1.45783672+ 0.16997763  2.56883009+ 0.65633521  0.08317242+
 [7] 0.20866373  1.79566143+ 0.65482017  0.32505510+
> attr(s, "type")
[1] "right"
> cbind(unclass(s), mlt:::.Surv2matrix(s))
            time status       left right
 [1,] 2.67433818      1 2.67433818    NA
 [2,] 1.45783672      0 1.45783672   Inf
 [3,] 0.16997763      1 0.16997763    NA
 [4,] 2.56883009      0 2.56883009   Inf
 [5,] 0.65633521      1 0.65633521    NA
 [6,] 0.08317242      0 0.08317242   Inf
 [7,] 0.20866373      1 0.20866373    NA
 [8,] 1.79566143      0 1.79566143   Inf
 [9,] 0.65482017      1 0.65482017    NA
[10,] 0.32505510      0 0.32505510   Inf
> 
> ### right censored, left truncated
> (s <- Surv(y, y + 1, d))
 [1] (2.67433818,3.674338]  (1.45783672,2.457837+] (0.16997763,1.169978] 
 [4] (2.56883009,3.568830+] (0.65633521,1.656335]  (0.08317242,1.083172+]
 [7] (0.20866373,1.208664]  (1.79566143,2.795661+] (0.65482017,1.654820] 
[10] (0.32505510,1.325055+]
> attr(s, "type")
[1] "counting"
> cbind(unclass(s), mlt:::.Surv2matrix(s))
           start     stop status     left right  lefttrunc
 [1,] 2.67433818 3.674338      1 3.674338    NA 2.67433818
 [2,] 1.45783672 2.457837      0 2.457837   Inf 1.45783672
 [3,] 0.16997763 1.169978      1 1.169978    NA 0.16997763
 [4,] 2.56883009 3.568830      0 3.568830   Inf 2.56883009
 [5,] 0.65633521 1.656335      1 1.656335    NA 0.65633521
 [6,] 0.08317242 1.083172      0 1.083172   Inf 0.08317242
 [7,] 0.20866373 1.208664      1 1.208664    NA 0.20866373
 [8,] 1.79566143 2.795661      0 2.795661   Inf 1.79566143
 [9,] 0.65482017 1.654820      1 1.654820    NA 0.65482017
[10,] 0.32505510 1.325055      0 1.325055   Inf 0.32505510
> 
> ### left censored
> (s <- Surv(y, d, type = "left"))
 [1]  2.67433818 <1.45783672  0.16997763 <2.56883009  0.65633521 <0.08317242
 [7]  0.20866373 <1.79566143  0.65482017 <0.32505510
> attr(s, "type")
[1] "left"
> cbind(unclass(s), mlt:::.Surv2matrix(s))
            time status left      right
 [1,] 2.67433818      1   NA 2.67433818
 [2,] 1.45783672      0 -Inf 1.45783672
 [3,] 0.16997763      1   NA 0.16997763
 [4,] 2.56883009      0 -Inf 2.56883009
 [5,] 0.65633521      1   NA 0.65633521
 [6,] 0.08317242      0 -Inf 0.08317242
 [7,] 0.20866373      1   NA 0.20866373
 [8,] 1.79566143      0 -Inf 1.79566143
 [9,] 0.65482017      1   NA 0.65482017
[10,] 0.32505510      0 -Inf 0.32505510
> 
> ### interval
> dd <- rep(0:3, length = length(y))
> (s <- Surv(y, y + 1, dd, type = "interval"))
 [1] 2.67433818+            1.45783672             0.16997763-           
 [4] [2.56883009, 3.568830] 0.65633521+            0.08317242            
 [7] 0.20866373-            [1.79566143, 2.795661] 0.65482017+           
[10] 0.32505510            
> attr(s, "type")
[1] "interval"
> cbind(unclass(s), mlt:::.Surv2matrix(s))
           time1    time2 status       left     right
 [1,] 2.67433818 1.000000      0 2.67433818       Inf
 [2,] 1.45783672 1.000000      1 1.45783672        NA
 [3,] 0.16997763 1.000000      2       -Inf 0.1699776
 [4,] 2.56883009 3.568830      3 2.56883009 3.5688301
 [5,] 0.65633521 1.000000      0 0.65633521       Inf
 [6,] 0.08317242 1.000000      1 0.08317242        NA
 [7,] 0.20866373 1.000000      2       -Inf 0.2086637
 [8,] 1.79566143 2.795661      3 1.79566143 2.7956614
 [9,] 0.65482017 1.000000      0 0.65482017       Inf
[10,] 0.32505510 1.000000      1 0.32505510        NA
> 
> ### interval2
> (s <- Surv(y, y + 1, type = "interval2"))
 [1] [2.67433818, 3.674338] [1.45783672, 2.457837] [0.16997763, 1.169978]
 [4] [2.56883009, 3.568830] [0.65633521, 1.656335] [0.08317242, 1.083172]
 [7] [0.20866373, 1.208664] [1.79566143, 2.795661] [0.65482017, 1.654820]
[10] [0.32505510, 1.325055]
> attr(s, "type")
[1] "interval"
> cbind(unclass(s), mlt:::.Surv2matrix(s))
           time1    time2 status       left    right
 [1,] 2.67433818 3.674338      3 2.67433818 3.674338
 [2,] 1.45783672 2.457837      3 1.45783672 2.457837
 [3,] 0.16997763 1.169978      3 0.16997763 1.169978
 [4,] 2.56883009 3.568830      3 2.56883009 3.568830
 [5,] 0.65633521 1.656335      3 0.65633521 1.656335
 [6,] 0.08317242 1.083172      3 0.08317242 1.083172
 [7,] 0.20866373 1.208664      3 0.20866373 1.208664
 [8,] 1.79566143 2.795661      3 1.79566143 2.795661
 [9,] 0.65482017 1.654820      3 0.65482017 1.654820
[10,] 0.32505510 1.325055      3 0.32505510 1.325055
> 
> (s <- Surv(y, ifelse(d, Inf, y + 1), type = "interval2"))
 [1] [2.67433818,      Inf] [1.45783672, 2.457837] [0.16997763,      Inf]
 [4] [2.56883009, 3.568830] [0.65633521,      Inf] [0.08317242, 1.083172]
 [7] [0.20866373,      Inf] [1.79566143, 2.795661] [0.65482017,      Inf]
[10] [0.32505510, 1.325055]
> attr(s, "type")
[1] "interval"
> cbind(unclass(s), mlt:::.Surv2matrix(s))
           time1    time2 status       left    right
 [1,] 2.67433818      Inf      3 2.67433818      Inf
 [2,] 1.45783672 2.457837      3 1.45783672 2.457837
 [3,] 0.16997763      Inf      3 0.16997763      Inf
 [4,] 2.56883009 3.568830      3 2.56883009 3.568830
 [5,] 0.65633521      Inf      3 0.65633521      Inf
 [6,] 0.08317242 1.083172      3 0.08317242 1.083172
 [7,] 0.20866373      Inf      3 0.20866373      Inf
 [8,] 1.79566143 2.795661      3 1.79566143 2.795661
 [9,] 0.65482017      Inf      3 0.65482017      Inf
[10,] 0.32505510 1.325055      3 0.32505510 1.325055
> 
> (s <- Surv(y, ifelse(d, NA, y + 1), type = "interval2"))
 [1] 2.67433818+            [1.45783672, 2.457837] 0.16997763+           
 [4] [2.56883009, 3.568830] 0.65633521+            [0.08317242, 1.083172]
 [7] 0.20866373+            [1.79566143, 2.795661] 0.65482017+           
[10] [0.32505510, 1.325055]
> attr(s, "type")
[1] "interval"
> cbind(unclass(s), mlt:::.Surv2matrix(s))
           time1    time2 status       left    right
 [1,] 2.67433818 1.000000      0 2.67433818      Inf
 [2,] 1.45783672 2.457837      3 1.45783672 2.457837
 [3,] 0.16997763 1.000000      0 0.16997763      Inf
 [4,] 2.56883009 3.568830      3 2.56883009 3.568830
 [5,] 0.65633521 1.000000      0 0.65633521      Inf
 [6,] 0.08317242 1.083172      3 0.08317242 1.083172
 [7,] 0.20866373 1.000000      0 0.20866373      Inf
 [8,] 1.79566143 2.795661      3 1.79566143 2.795661
 [9,] 0.65482017 1.000000      0 0.65482017      Inf
[10,] 0.32505510 1.325055      3 0.32505510 1.325055
> 
> 
> 
> proc.time()
   user  system elapsed 
  1.670   0.056   1.715 
