
R version 3.2.1 (2015-06-18) -- "World-Famous Astronaut"
Copyright (C) 2015 The R Foundation for Statistical Computing
Platform: x86_64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> 
> library("mlt")
Loading required package: basefun
> library("survival")
> set.seed(29)
> 
> y <- rexp(10)
> d <- rep(c(TRUE, FALSE), length = length(y))
> ### right
> (s <- Surv(y, d, type = "right"))
 [1] 2.67433818  1.45783672+ 0.16997763  2.56883009+ 0.65633521  0.08317242+
 [7] 0.20866373  1.79566143+ 0.65482017  0.32505510+
> attr(s, "type")
[1] "right"
> cbind(s, mlt:::.Surv2R(s))
             s tleft      cleft     exact cright tright rank
1  2.67433818     NA         NA 2.6743382     NA     NA    5
2  1.45783672+    NA 1.45783672        NA    Inf     NA   10
3  0.16997763     NA         NA 0.1699776     NA     NA    1
4  2.56883009+    NA 2.56883009        NA    Inf     NA   10
5  0.65633521     NA         NA 0.6563352     NA     NA    4
6  0.08317242+    NA 0.08317242        NA    Inf     NA   10
7  0.20866373     NA         NA 0.2086637     NA     NA    2
8  1.79566143+    NA 1.79566143        NA    Inf     NA   10
9  0.65482017     NA         NA 0.6548202     NA     NA    3
10 0.32505510+    NA 0.32505510        NA    Inf     NA   10
> 
> ### right censored, left truncated
> (s <- Surv(y, y + 1, d))
 [1] (2.67433818,3.674338]  (1.45783672,2.457837+] (0.16997763,1.169978] 
 [4] (2.56883009,3.568830+] (0.65633521,1.656335]  (0.08317242,1.083172+]
 [7] (0.20866373,1.208664]  (1.79566143,2.795661+] (0.65482017,1.654820] 
[10] (0.32505510,1.325055+]
> attr(s, "type")
[1] "counting"
> cbind(s, mlt:::.Surv2R(s))
                        s      tleft    cleft    exact cright tright rank
1   (2.67433818,3.674338] 2.67433818       NA 3.674338     NA     NA    5
2  (1.45783672,2.457837+] 1.45783672 2.457837       NA    Inf     NA   10
3   (0.16997763,1.169978] 0.16997763       NA 1.169978     NA     NA    1
4  (2.56883009,3.568830+] 2.56883009 3.568830       NA    Inf     NA   10
5   (0.65633521,1.656335] 0.65633521       NA 1.656335     NA     NA    4
6  (0.08317242,1.083172+] 0.08317242 1.083172       NA    Inf     NA   10
7   (0.20866373,1.208664] 0.20866373       NA 1.208664     NA     NA    2
8  (1.79566143,2.795661+] 1.79566143 2.795661       NA    Inf     NA   10
9   (0.65482017,1.654820] 0.65482017       NA 1.654820     NA     NA    3
10 (0.32505510,1.325055+] 0.32505510 1.325055       NA    Inf     NA   10
> 
> ### left censored
> (s <- Surv(y, d, type = "left"))
 [1]  2.67433818 <1.45783672  0.16997763 <2.56883009  0.65633521 <0.08317242
 [7]  0.20866373 <1.79566143  0.65482017 <0.32505510
> attr(s, "type")
[1] "left"
> cbind(s, mlt:::.Surv2R(s))
             s tleft cleft     exact     cright tright rank
1   2.67433818    NA    NA 2.6743382         NA     NA    5
2  <1.45783672    NA  -Inf        NA 1.45783672     NA   10
3   0.16997763    NA    NA 0.1699776         NA     NA    1
4  <2.56883009    NA  -Inf        NA 2.56883009     NA   10
5   0.65633521    NA    NA 0.6563352         NA     NA    4
6  <0.08317242    NA  -Inf        NA 0.08317242     NA   10
7   0.20866373    NA    NA 0.2086637         NA     NA    2
8  <1.79566143    NA  -Inf        NA 1.79566143     NA   10
9   0.65482017    NA    NA 0.6548202         NA     NA    3
10 <0.32505510    NA  -Inf        NA 0.32505510     NA   10
> 
> ### interval
> dd <- rep(0:3, length = length(y))
> (s <- Surv(y, y + 1, dd, type = "interval"))
 [1] 2.67433818+            1.45783672             0.16997763-           
 [4] [2.56883009, 3.568830] 0.65633521+            0.08317242            
 [7] 0.20866373-            [1.79566143, 2.795661] 0.65482017+           
[10] 0.32505510            
> attr(s, "type")
[1] "interval"
> cbind(s, mlt:::.Surv2R(s))
                        s tleft     cleft      exact    cright tright rank
1             2.67433818+    NA 2.6743382         NA       Inf     NA   10
2              1.45783672    NA        NA 1.45783672        NA     NA    5
3             0.16997763-    NA      -Inf         NA 0.1699776     NA   10
4  [2.56883009, 3.568830]    NA 2.5688301         NA 3.5688301     NA    3
5             0.65633521+    NA 0.6563352         NA       Inf     NA   10
6              0.08317242    NA        NA 0.08317242        NA     NA    1
7             0.20866373-    NA      -Inf         NA 0.2086637     NA   10
8  [1.79566143, 2.795661]    NA 1.7956614         NA 2.7956614     NA    4
9             0.65482017+    NA 0.6548202         NA       Inf     NA   10
10             0.32505510    NA        NA 0.32505510        NA     NA    2
> 
> ### interval2
> (s <- Surv(y, y + 1, type = "interval2"))
 [1] [2.67433818, 3.674338] [1.45783672, 2.457837] [0.16997763, 1.169978]
 [4] [2.56883009, 3.568830] [0.65633521, 1.656335] [0.08317242, 1.083172]
 [7] [0.20866373, 1.208664] [1.79566143, 2.795661] [0.65482017, 1.654820]
[10] [0.32505510, 1.325055]
> attr(s, "type")
[1] "interval"
> cbind(s, mlt:::.Surv2R(s))
                        s tleft      cleft exact   cright tright rank
1  [2.67433818, 3.674338]    NA 2.67433818    NA 3.674338     NA    9
2  [1.45783672, 2.457837]    NA 1.45783672    NA 2.457837     NA    9
3  [0.16997763, 1.169978]    NA 0.16997763    NA 1.169978     NA    9
4  [2.56883009, 3.568830]    NA 2.56883009    NA 3.568830     NA    9
5  [0.65633521, 1.656335]    NA 0.65633521    NA 1.656335     NA    9
6  [0.08317242, 1.083172]    NA 0.08317242    NA 1.083172     NA    9
7  [0.20866373, 1.208664]    NA 0.20866373    NA 1.208664     NA    9
8  [1.79566143, 2.795661]    NA 1.79566143    NA 2.795661     NA   10
9  [0.65482017, 1.654820]    NA 0.65482017    NA 1.654820     NA    9
10 [0.32505510, 1.325055]    NA 0.32505510    NA 1.325055     NA    9
> 
> (s <- Surv(y, ifelse(d, Inf, y + 1), type = "interval2"))
 [1] [2.67433818,      Inf] [1.45783672, 2.457837] [0.16997763,      Inf]
 [4] [2.56883009, 3.568830] [0.65633521,      Inf] [0.08317242, 1.083172]
 [7] [0.20866373,      Inf] [1.79566143, 2.795661] [0.65482017,      Inf]
[10] [0.32505510, 1.325055]
> attr(s, "type")
[1] "interval"
> cbind(s, mlt:::.Surv2R(s))
                        s tleft      cleft exact   cright tright rank
1  [2.67433818,      Inf]    NA 2.67433818    NA      Inf     NA   10
2  [1.45783672, 2.457837]    NA 1.45783672    NA 2.457837     NA    4
3  [0.16997763,      Inf]    NA 0.16997763    NA      Inf     NA   10
4  [2.56883009, 3.568830]    NA 2.56883009    NA 3.568830     NA    4
5  [0.65633521,      Inf]    NA 0.65633521    NA      Inf     NA   10
6  [0.08317242, 1.083172]    NA 0.08317242    NA 1.083172     NA    4
7  [0.20866373,      Inf]    NA 0.20866373    NA      Inf     NA   10
8  [1.79566143, 2.795661]    NA 1.79566143    NA 2.795661     NA    5
9  [0.65482017,      Inf]    NA 0.65482017    NA      Inf     NA   10
10 [0.32505510, 1.325055]    NA 0.32505510    NA 1.325055     NA    4
> 
> (s <- Surv(y, ifelse(d, NA, y + 1), type = "interval2"))
 [1] 2.67433818+            [1.45783672, 2.457837] 0.16997763+           
 [4] [2.56883009, 3.568830] 0.65633521+            [0.08317242, 1.083172]
 [7] 0.20866373+            [1.79566143, 2.795661] 0.65482017+           
[10] [0.32505510, 1.325055]
> attr(s, "type")
[1] "interval"
> cbind(s, mlt:::.Surv2R(s))
                        s tleft      cleft exact   cright tright rank
1             2.67433818+    NA 2.67433818    NA      Inf     NA   10
2  [1.45783672, 2.457837]    NA 1.45783672    NA 2.457837     NA    4
3             0.16997763+    NA 0.16997763    NA      Inf     NA   10
4  [2.56883009, 3.568830]    NA 2.56883009    NA 3.568830     NA    4
5             0.65633521+    NA 0.65633521    NA      Inf     NA   10
6  [0.08317242, 1.083172]    NA 0.08317242    NA 1.083172     NA    4
7             0.20866373+    NA 0.20866373    NA      Inf     NA   10
8  [1.79566143, 2.795661]    NA 1.79566143    NA 2.795661     NA    5
9             0.65482017+    NA 0.65482017    NA      Inf     NA   10
10 [0.32505510, 1.325055]    NA 0.32505510    NA 1.325055     NA    4
> 
> proc.time()
   user  system elapsed 
  1.048   0.051   1.088 
